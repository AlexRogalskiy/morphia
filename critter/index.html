<!DOCTYPE html>
<html lang="en" class="js csstransforms3d">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="Hugo 0.67.1" />
    <meta name="description" content="">


    <link rel="icon" href="/critter/images/favicon.png" type="image/png">

    <title>Critter :: Critter</title>

    
    <link href="/critter/css/nucleus.css?1600808263" rel="stylesheet">
    <link href="/critter/css/fontawesome-all.min.css?1600808263" rel="stylesheet">
    <link href="/critter/css/hybrid.css?1600808263" rel="stylesheet">
    <link href="/critter/css/featherlight.min.css?1600808263" rel="stylesheet">
    <link href="/critter/css/perfect-scrollbar.min.css?1600808263" rel="stylesheet">
    <link href="/critter/css/auto-complete.css?1600808263" rel="stylesheet">
    <link href="/critter/css/atom-one-dark-reasonable.css?1600808263" rel="stylesheet">
    <link href="/critter/css/theme.css?1600808263" rel="stylesheet">
    <link href="/critter/css/hugo-theme.css?1600808263" rel="stylesheet">
    

    <script src="/critter/js/jquery-3.3.1.min.js?1600808263"></script>

    <style>
      :root #header + #content > #left > #rlblock_left{
          display:none !important;
      }
      
        :not(pre) > code + span.copy-to-clipboard {
            display: none;
        }
      
    </style>
    <link href="/critter/css/java.css" rel="stylesheet">
<link href="/critter/css/theme-green.css" rel="stylesheet">

<style>
    :root {
        --MAIN-TEXT-color:#004042;  
        --MAIN-TITLES-TEXT-color: #004042;  
        --MAIN-LINK-color:#006cbc;  
        --MAIN-LINK-HOVER-color:#3f6d2c;  
        --MAIN-ANCHOR-color: #599a3e;  

        --MENU-HEADER-BG-color:#004042;  
        --MENU-HEADER-BORDER-color:#6ca439;  

        --MENU-SEARCH-BG-color:#006264;  
        --MENU-SEARCH-BOX-color: #84c767;  
        --MENU-SEARCH-BOX-ICONS-color: #c7f7c4;  

        --MENU-SECTIONS-ACTIVE-BG-color:#1b211c;  
        --MENU-SECTIONS-BG-color:#222723;  
        --MENU-SECTIONS-LINK-color: #ccc;  
        --MENU-SECTIONS-LINK-HOVER-color: #e6e6e6;   
        --MENU-SECTION-ACTIVE-CATEGORY-color: #777;  
        --MENU-SECTION-ACTIVE-CATEGORY-BG-color: #f3f4eb;  

        --MENU-VISITED-color: #599a3e;  
        --MENU-SECTION-HR-color: #18211c;  
    }

    body {
        background-color: var(--MENU-SECTION-ACTIVE-CATEGORY-BG-color);
        padding-top: 0;
    }

    h1 {
        color: var(--MAIN-TITLES-TEXT-color) !important;
    }

    strong {
        color: var(--MAIN-TITLES-TEXT-color) !important;
    }

    #top-bar-sticky-wrapper {
        visibility: hidden !important;
        min-height: 0;
    }

</style>

  </head>
  <body class="" data-url="/critter/">
    <nav id="sidebar" class="">



  <div id="header-wrapper">
    <div id="header">
      <a id="logo" href="/critter">
    <img src="/critter/images/logo.png" alt="Morphia Logo"/>
</a>
<span id="version-tag">Critter 4.0.0</span>

    </div>
    
  </div>

    <div class="highlightable">
    <ul class="topics">

        
          
         
    </ul>

    
    
      <section id="shortcuts">
        <h3>More</h3>
        <ul>
          
              <li> 
                  <a class="padding" href="https://github.com/MorphiaOrg/critter"><i class='fab fa-fw fa-github'></i> Source Code</a>
              </li>
          
        </ul>
      </section>
    

    
    <section id="footer">
      
    </section>
  </div>
</nav>





        <section id="body">
        <div id="overlay"></div>
        <div class="padding highlightable">
              
        <div id="head-tags">
        
        </div>
        
        <div id="body-inner">
          

        


<span id="sidebar-toggle-span">
<a href="#" id="sidebar-toggle" data-sidebar-toggle=""><i class="fas fa-bars"></i> navigation</a>
</span>

 
<h1 id="critter">Critter</h1>
<p>Critter will look at your source code and generate type safe criteria builders for
each model object.  To use it, you simply need to add a plugin to your maven pom:</p>
<pre><code>&lt;plugin&gt;
    &lt;groupId&gt;dev.morphia.critter&lt;/groupId&gt;
    &lt;artifactId&gt;critter-maven&lt;/artifactId&gt;
    &lt;version&gt;${critter.version}&lt;/version&gt;
    &lt;executions&gt;
        &lt;execution&gt;
            &lt;id&gt;critter&lt;/id&gt;
            &lt;goals&gt;
                &lt;goal&gt;generate&lt;/goal&gt;
            &lt;/goals&gt;
            &lt;configuration&gt;
                &lt;force&gt;false&lt;/force&gt;
                &lt;criteriaPackage&gt;com.bob.bar&lt;/criteriaPackage&gt;
            &lt;/configuration&gt;
        &lt;/execution&gt;
    &lt;/executions&gt;
&lt;/plugin&gt;
</code></pre>
<p>This will generate your criteria classes in <code>target/generated-sources/critter</code> and add the directory as a source
directory of your maven project.  If the <code>criteriaPackage</code> option is omitted, the code will be generated using the
package of your entities with <code>.criteria</code> appended. (The options are shown here for documentation purposes using the
default values.  They can be left out altogether if the defaults are acceptable.)</p>

<div class="notices " ><pre><code>Critter also requires Morphia 2.0.0 and is built for Java 11.
</code></pre>
</div>

<p>Gradle users can look <a href="gradle/README.md">here</a> for details on using critter with gradle.</p>
<h2 id="what-difference-does-it-make">What difference does it make?</h2>
<p>Before critter, your criteria might look something like this:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">Query<span style="color:#f92672">&lt;</span>Book<span style="color:#f92672">&gt;</span> query <span style="color:#f92672">=</span> ds<span style="color:#f92672">.</span><span style="color:#a6e22e">find</span><span style="color:#f92672">(</span>Book<span style="color:#f92672">.</span><span style="color:#a6e22e">class</span><span style="color:#f92672">)</span>
    <span style="color:#f92672">.</span><span style="color:#a6e22e">filter</span><span style="color:#f92672">(</span>and<span style="color:#f92672">(</span>
        eq<span style="color:#f92672">(</span><span style="color:#e6db74">&#34;bookmark&#34;</span><span style="color:#f92672">,</span>bookmark<span style="color:#f92672">),</span>
        eq<span style="color:#f92672">(</span><span style="color:#e6db74">&#34;database&#34;</span><span style="color:#f92672">,</span>database<span style="color:#f92672">)));</span>
</code></pre></div><p>But using critter, it would look like this:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">Query<span style="color:#f92672">&lt;</span>Book<span style="color:#f92672">&gt;</span> query <span style="color:#f92672">=</span> ds<span style="color:#f92672">.</span><span style="color:#a6e22e">find</span><span style="color:#f92672">(</span>Book<span style="color:#f92672">.</span><span style="color:#a6e22e">class</span><span style="color:#f92672">)</span>
    <span style="color:#f92672">.</span><span style="color:#a6e22e">filter</span><span style="color:#f92672">(</span>and<span style="color:#f92672">(</span>
        Person<span style="color:#f92672">.</span><span style="color:#a6e22e">bookmark</span><span style="color:#f92672">().</span><span style="color:#a6e22e">eq</span><span style="color:#f92672">(</span>bookmark<span style="color:#f92672">),</span>
        Person<span style="color:#f92672">.</span><span style="color:#a6e22e">database</span><span style="color:#f92672">().</span><span style="color:#a6e22e">eq</span><span style="color:#f92672">(</span>database<span style="color:#f92672">)));</span>
</code></pre></div><p>Notice how bookmark() and database() methods were created based on the model object Book&rsquo;s fields.  The comparison
methods you&rsquo;re familiar with from Morphia&rsquo;s filters API are all there but now only take the type of the field itself.
With this code in place if the model object changes, the code above runs the risk of failing to compile allowing you to
catch model/query conflicts at compile time rather than waiting for things to fail at runtime (or in your tests if you&rsquo;re
lucky enough to have those).</p>
<p>You can see a working example in the <a href="https://github.com/MorphiaOrg/critter/tree/master/tests">tests</a>.</p>
<h2 id="idea-users">IDEA Users</h2>
<p>IDEA users will need to enable the plugin registry in the maven configuration options for IDEA to pick up the plugin.</p>
<h3 id="issues-and-support">Issues and support</h3>
<p>Please check <a href="/critter/issues-help/">here</a> if you find an issue or need help.</p>
	
  
        
        </div> 
        

      </div>

    <div id="navigation">
        
        
        
        
            
            
                
                    
                    
                
                

                    
                    
                        
                    
                    

                    
            
        
        
        


	 
	 
    </div>

    </section>
    
    <div style="left: -1000px; overflow: scroll; position: absolute; top: -1000px; border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;">
      <div style="border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;"></div>
    </div>
    <script src="/critter/js/clipboard.min.js?1600808263"></script>
    <script src="/critter/js/perfect-scrollbar.min.js?1600808263"></script>
    <script src="/critter/js/perfect-scrollbar.jquery.min.js?1600808263"></script>
    <script src="/critter/js/jquery.sticky.js?1600808263"></script>
    <script src="/critter/js/featherlight.min.js?1600808263"></script>
    <script src="/critter/js/highlight.pack.js?1600808263"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    <script src="/critter/js/modernizr.custom-3.6.0.js?1600808263"></script>
    <script src="/critter/js/learn.js?1600808263"></script>
    <script src="/critter/js/hugo-learn.js?1600808263"></script>

    <link href="/critter/mermaid/mermaid.css?1600808263" rel="stylesheet" />
    <script src="/critter/mermaid/mermaid.js?1600808263"></script>
    <script>
        mermaid.initialize({ startOnLoad: true });
    </script>
    

  </body>
</html>

